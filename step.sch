EESchema Schematic File Version 4
LIBS:cashew-cache
EELAYER 26 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 2 4
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Text HLabel 4350 3150 0    50   Input ~ 0
STEP
Text HLabel 4350 3250 0    50   Input ~ 0
DIR
$Comp
L conn-3:CONN-3 J?
U 1 1 5AE5CD3B
P 8050 3800
F 0 "J?" H 8350 3750 50  0000 C CNN
F 1 "MIN" H 8350 3850 50  0000 C CNN
F 2 "" H 8150 3650 60  0000 C CNN
F 3 "" H 8150 3650 60  0000 C CNN
	1    8050 3800
	1    0    0    1   
$EndComp
$Comp
L conn-4:CONN-4 J?
U 1 1 5AE5CE5A
P 8050 2450
F 0 "J?" H 8277 2496 50  0000 L CNN
F 1 "MOTOR" H 8277 2405 50  0000 L CNN
F 2 "" H 8150 2350 60  0000 C CNN
F 3 "" H 8150 2350 60  0000 C CNN
	1    8050 2450
	1    0    0    -1  
$EndComp
Text HLabel 7750 3900 0    50   Output ~ 0
STOP_MIN
$Comp
L com:COM #PWR?
U 1 1 5AE5CFF7
P 7900 3850
F 0 "#PWR?" V 8175 3850 60  0001 C CNN
F 1 "COM" H 8060 3735 30  0001 C CNN
F 2 "" H 8055 3860 60  0000 C CNN
F 3 "" H 8055 3860 60  0000 C CNN
	1    7900 3850
	1    0    0    -1  
$EndComp
$Comp
L TMC2130:TMC2130-TA U?
U 1 1 5AEFC562
P 5000 3450
F 0 "U?" H 5000 4815 50  0000 C CNN
F 1 "TMC2130-TA" H 5000 4724 50  0000 C CNN
F 2 "" H 4950 5100 50  0001 C CNN
F 3 "" H 4950 5100 50  0001 C CNN
	1    5000 3450
	1    0    0    -1  
$EndComp
Text HLabel 4350 3050 0    50   Input ~ 0
~EN
$Comp
L com:COM #PWR?
U 1 1 5AEFC777
P 5700 4600
F 0 "#PWR?" V 5975 4600 60  0001 C CNN
F 1 "COM" H 5860 4485 30  0001 C CNN
F 2 "" H 5855 4610 60  0000 C CNN
F 3 "" H 5855 4610 60  0000 C CNN
	1    5700 4600
	1    0    0    -1  
$EndComp
Wire Wire Line
	5650 4550 5700 4550
Wire Wire Line
	5700 4550 5700 4600
Wire Wire Line
	5650 3850 5700 3850
Wire Wire Line
	5700 3850 5700 3950
Connection ~ 5700 4550
Wire Wire Line
	5650 4450 5700 4450
Connection ~ 5700 4450
Wire Wire Line
	5700 4450 5700 4550
Wire Wire Line
	5650 4350 5700 4350
Connection ~ 5700 4350
Wire Wire Line
	5700 4350 5700 4450
Wire Wire Line
	5650 4250 5700 4250
Connection ~ 5700 4250
Wire Wire Line
	5700 4250 5700 4350
Wire Wire Line
	5650 4150 5700 4150
Connection ~ 5700 4150
Wire Wire Line
	5700 4150 5700 4250
Wire Wire Line
	5650 4050 5700 4050
Connection ~ 5700 4050
Wire Wire Line
	5700 4050 5700 4150
Wire Wire Line
	5650 3950 5700 3950
Connection ~ 5700 3950
Wire Wire Line
	5700 3950 5700 4050
Text HLabel 4350 2350 0    50   Input ~ 0
~SPI_CS
Text HLabel 4350 2450 0    50   Input ~ 0
SPI_SCK
Text HLabel 4350 2550 0    50   Input ~ 0
SPI_SDI
Text HLabel 4350 2650 0    50   Input ~ 0
SPI_SDO
NoConn ~ 4350 2750
Text HLabel 4350 2900 0    50   Input ~ 0
CLK
$Comp
L c:C C?
U 1 1 5AEFCFB8
P 4250 3600
F 0 "C?" H 4177 3546 50  0000 R CNN
F 1 "22n" H 4177 3455 50  0000 R CNN
F 2 "" H 4150 3750 60  0000 C CNN
F 3 "" H 4150 3750 60  0000 C CNN
	1    4250 3600
	1    0    0    -1  
$EndComp
Wire Wire Line
	4350 3600 4250 3600
Wire Wire Line
	4250 3800 4350 3800
$Comp
L c:C C?
U 1 1 5AEFD415
P 4250 3900
F 0 "C?" H 4177 3846 50  0000 R CNN
F 1 "0.1u" H 4177 3755 50  0000 R CNN
F 2 "" H 4150 4050 60  0000 C CNN
F 3 "" H 4150 4050 60  0000 C CNN
	1    4250 3900
	1    0    0    -1  
$EndComp
Wire Wire Line
	4250 3900 4350 3900
Wire Wire Line
	4350 4100 4300 4100
Connection ~ 4250 4100
Text GLabel 3100 4100 0    50   Input ~ 0
PP_MOT
Wire Wire Line
	4300 4100 4300 4200
Wire Wire Line
	4300 4200 4350 4200
Connection ~ 4300 4100
Wire Wire Line
	4300 4100 4250 4100
$Comp
L +5v:+5V #PWR?
U 1 1 5AEFDD95
P 3650 3400
F 0 "#PWR?" H 3660 3400 20  0001 C CNN
F 1 "+5V" H 3650 3460 40  0000 C CNN
F 2 "" H 3650 3400 60  0000 C CNN
F 3 "" H 3650 3400 60  0000 C CNN
	1    3650 3400
	1    0    0    -1  
$EndComp
$Comp
L c:C C?
U 1 1 5AEFDE21
P 4250 4850
F 0 "C?" H 4323 4796 50  0000 L CNN
F 1 "4.7u" H 4323 4705 50  0000 L CNN
F 2 "" H 4150 5000 60  0000 C CNN
F 3 "" H 4150 5000 60  0000 C CNN
	1    4250 4850
	1    0    0    -1  
$EndComp
$Comp
L com:COM #PWR?
U 1 1 5AEFDF99
P 4250 5050
F 0 "#PWR?" V 4525 5050 60  0001 C CNN
F 1 "COM" H 4410 4935 30  0001 C CNN
F 2 "" H 4405 5060 60  0000 C CNN
F 3 "" H 4405 5060 60  0000 C CNN
	1    4250 5050
	1    0    0    -1  
$EndComp
$Comp
L c:C C?
U 1 1 5AF01FCA
P 3650 3400
F 0 "C?" H 3577 3346 50  0000 R CNN
F 1 "0.47u" H 3577 3255 50  0000 R CNN
F 2 "" H 3550 3550 60  0000 C CNN
F 3 "" H 3550 3550 60  0000 C CNN
	1    3650 3400
	1    0    0    -1  
$EndComp
$Comp
L com:COM #PWR?
U 1 1 5AF02306
P 3650 3600
F 0 "#PWR?" V 3925 3600 60  0001 C CNN
F 1 "COM" H 3810 3485 30  0001 C CNN
F 2 "" H 3805 3610 60  0000 C CNN
F 3 "" H 3805 3610 60  0000 C CNN
	1    3650 3600
	1    0    0    -1  
$EndComp
$Comp
L +3v3:+3V3 #PWR?
U 1 1 5AF023B5
P 3950 3500
F 0 "#PWR?" H 3960 3500 20  0001 C CNN
F 1 "+3V3" H 3950 3560 40  0000 C CNN
F 2 "" H 3950 3500 60  0000 C CNN
F 3 "" H 3950 3500 60  0000 C CNN
	1    3950 3500
	1    0    0    -1  
$EndComp
$Comp
L c:C C?
U 1 1 5AF023F4
P 3950 3500
F 0 "C?" H 3877 3446 50  0000 R CNN
F 1 "0.1u" H 3877 3355 50  0000 R CNN
F 2 "" H 3850 3650 60  0000 C CNN
F 3 "" H 3850 3650 60  0000 C CNN
	1    3950 3500
	1    0    0    -1  
$EndComp
$Comp
L com:COM #PWR?
U 1 1 5AF024BA
P 3950 3700
F 0 "#PWR?" V 4225 3700 60  0001 C CNN
F 1 "COM" H 4110 3585 30  0001 C CNN
F 2 "" H 4105 3710 60  0000 C CNN
F 3 "" H 4105 3710 60  0000 C CNN
	1    3950 3700
	1    0    0    -1  
$EndComp
Wire Wire Line
	4350 3500 3950 3500
Connection ~ 3950 3500
Wire Wire Line
	4350 3400 3650 3400
Connection ~ 3650 3400
NoConn ~ 4350 4550
Wire Wire Line
	5650 3500 6450 3500
Text Label 6450 3500 2    50   ~ 0
2B
Wire Wire Line
	5650 3600 6450 3600
Text Label 6450 3600 2    50   ~ 0
1B
Wire Wire Line
	5650 2950 6450 2950
Text Label 6450 2950 2    50   ~ 0
2A
Wire Wire Line
	5650 3050 6450 3050
Text Label 6450 3050 2    50   ~ 0
1A
Wire Wire Line
	8050 2300 7400 2300
Text Label 7250 2300 0    50   ~ 0
2B
Wire Wire Line
	8050 2600 8000 2600
Text Label 7250 2600 0    50   ~ 0
1B
Wire Wire Line
	8050 2400 7600 2400
Text Label 7250 2400 0    50   ~ 0
2A
Wire Wire Line
	8050 2500 7800 2500
Text Label 7250 2500 0    50   ~ 0
1A
$Comp
L r:Rs R?
U 1 1 5AF0B742
P 5800 3150
F 0 "R?" H 5868 3096 50  0000 L CNN
F 1 "0.12" H 5868 3005 50  0000 L CNN
F 2 "" H 5935 2990 60  0000 C CNN
F 3 "" H 5935 2990 60  0000 C CNN
	1    5800 3150
	1    0    0    -1  
$EndComp
$Comp
L r:Rs R?
U 1 1 5AF0B784
P 5800 3700
F 0 "R?" H 5868 3646 50  0000 L CNN
F 1 "0.12" H 5868 3555 50  0000 L CNN
F 2 "" H 5935 3540 60  0000 C CNN
F 3 "" H 5935 3540 60  0000 C CNN
	1    5800 3700
	1    0    0    -1  
$EndComp
$Comp
L com:COM #PWR?
U 1 1 5AF0B827
P 5800 3900
F 0 "#PWR?" V 6075 3900 60  0001 C CNN
F 1 "COM" H 5960 3785 30  0001 C CNN
F 2 "" H 5955 3910 60  0000 C CNN
F 3 "" H 5955 3910 60  0000 C CNN
	1    5800 3900
	1    0    0    -1  
$EndComp
$Comp
L com:COM #PWR?
U 1 1 5AF0B851
P 5800 3350
F 0 "#PWR?" V 6075 3350 60  0001 C CNN
F 1 "COM" H 5960 3235 30  0001 C CNN
F 2 "" H 5955 3360 60  0000 C CNN
F 3 "" H 5955 3360 60  0000 C CNN
	1    5800 3350
	1    0    0    -1  
$EndComp
Wire Wire Line
	5650 3150 5800 3150
Wire Wire Line
	5650 3700 5800 3700
$Comp
L +3v3:+3V3 #PWR?
U 1 1 5AF19790
P 7900 3700
F 0 "#PWR?" H 7910 3700 20  0001 C CNN
F 1 "+3V3" H 7900 3760 40  0000 C CNN
F 2 "" H 7900 3700 60  0000 C CNN
F 3 "" H 7900 3700 60  0000 C CNN
	1    7900 3700
	1    0    0    -1  
$EndComp
Wire Wire Line
	7900 3700 8050 3700
$Comp
L c:C C?
U 1 1 5AF20FED
P 6150 3700
F 0 "C?" H 6223 3646 50  0000 L CNN
F 1 "0.1u" H 6223 3555 50  0000 L CNN
F 2 "" H 6050 3850 60  0000 C CNN
F 3 "" H 6050 3850 60  0000 C CNN
	1    6150 3700
	1    0    0    -1  
$EndComp
$Comp
L com:COM #PWR?
U 1 1 5AF21060
P 6150 3900
F 0 "#PWR?" V 6425 3900 60  0001 C CNN
F 1 "COM" H 6310 3785 30  0001 C CNN
F 2 "" H 6305 3910 60  0000 C CNN
F 3 "" H 6305 3910 60  0000 C CNN
	1    6150 3900
	1    0    0    -1  
$EndComp
Wire Wire Line
	6150 3700 5800 3700
Connection ~ 5800 3700
$Comp
L c:C C?
U 1 1 5AF21BE4
P 6150 3150
F 0 "C?" H 6223 3096 50  0000 L CNN
F 1 "0.1u" H 6223 3005 50  0000 L CNN
F 2 "" H 6050 3300 60  0000 C CNN
F 3 "" H 6050 3300 60  0000 C CNN
	1    6150 3150
	1    0    0    -1  
$EndComp
$Comp
L com:COM #PWR?
U 1 1 5AF21BEB
P 6150 3350
F 0 "#PWR?" V 6425 3350 60  0001 C CNN
F 1 "COM" H 6310 3235 30  0001 C CNN
F 2 "" H 6305 3360 60  0000 C CNN
F 3 "" H 6305 3360 60  0000 C CNN
	1    6150 3350
	1    0    0    -1  
$EndComp
Wire Wire Line
	6150 3150 5800 3150
Connection ~ 5800 3150
Wire Wire Line
	3100 4100 3300 4100
$Comp
L cp:CP C?
U 1 1 5AF265F8
P 3300 4100
F 0 "C?" H 3373 4046 50  0000 L CNN
F 1 "100u" H 3373 3955 50  0000 L CNN
F 2 "" H 3200 4250 60  0000 C CNN
F 3 "" H 3200 4250 60  0000 C CNN
	1    3300 4100
	1    0    0    -1  
$EndComp
Connection ~ 3300 4100
Wire Wire Line
	3300 4100 3650 4100
$Comp
L com:COM #PWR?
U 1 1 5AF26670
P 3300 4300
F 0 "#PWR?" V 3575 4300 60  0001 C CNN
F 1 "COM" H 3460 4185 30  0001 C CNN
F 2 "" H 3455 4310 60  0000 C CNN
F 3 "" H 3455 4310 60  0000 C CNN
	1    3300 4300
	1    0    0    -1  
$EndComp
$Comp
L c:C C?
U 1 1 5AF266DF
P 3650 4100
F 0 "C?" H 3577 4046 50  0000 R CNN
F 1 "0.1u" H 3577 3955 50  0000 R CNN
F 2 "" H 3550 4250 60  0000 C CNN
F 3 "" H 3550 4250 60  0000 C CNN
	1    3650 4100
	-1   0    0    -1  
$EndComp
Connection ~ 3650 4100
Wire Wire Line
	3650 4100 3950 4100
$Comp
L c:C C?
U 1 1 5AF26776
P 3950 4100
F 0 "C?" H 3877 4046 50  0000 R CNN
F 1 "0.1u" H 3877 3955 50  0000 R CNN
F 2 "" H 3850 4250 60  0000 C CNN
F 3 "" H 3850 4250 60  0000 C CNN
	1    3950 4100
	-1   0    0    -1  
$EndComp
Connection ~ 3950 4100
$Comp
L com:COM #PWR?
U 1 1 5AF276F5
P 3950 4300
F 0 "#PWR?" V 4225 4300 60  0001 C CNN
F 1 "COM" H 4110 4185 30  0001 C CNN
F 2 "" H 4105 4310 60  0000 C CNN
F 3 "" H 4105 4310 60  0000 C CNN
	1    3950 4300
	1    0    0    -1  
$EndComp
$Comp
L com:COM #PWR?
U 1 1 5AF27722
P 3650 4300
F 0 "#PWR?" V 3925 4300 60  0001 C CNN
F 1 "COM" H 3810 4185 30  0001 C CNN
F 2 "" H 3805 4310 60  0000 C CNN
F 3 "" H 3805 4310 60  0000 C CNN
	1    3650 4300
	1    0    0    -1  
$EndComp
Wire Wire Line
	3950 4100 4250 4100
$Comp
L ferrite:FERRITE FB?
U 1 1 5AF2F3F3
P 4000 4850
F 0 "FB?" H 4000 5065 50  0000 C CNN
F 1 "FERRITE" H 4000 4974 50  0000 C CNN
F 2 "" H 4000 4750 60  0000 C CNN
F 3 "" H 4000 4750 60  0000 C CNN
	1    4000 4850
	1    0    0    -1  
$EndComp
$Comp
L +5v:+5V #PWR?
U 1 1 5AF3A318
P 3550 4850
F 0 "#PWR?" H 3560 4850 20  0001 C CNN
F 1 "+5V" H 3550 4910 40  0000 C CNN
F 2 "" H 3550 4850 60  0000 C CNN
F 3 "" H 3550 4850 60  0000 C CNN
	1    3550 4850
	1    0    0    -1  
$EndComp
Wire Wire Line
	4150 4850 4250 4850
Wire Wire Line
	4350 4450 4250 4450
Wire Wire Line
	4250 4450 4250 4850
Connection ~ 4250 4850
Wire Wire Line
	3550 4850 3750 4850
Wire Wire Line
	3750 4350 3750 4850
Wire Wire Line
	3750 4350 4350 4350
Connection ~ 3750 4850
Wire Wire Line
	3750 4850 3850 4850
$Comp
L zener:ZENER-DUAL-CA-SOT23 D?
U 1 1 5AF912FE
P 7900 2900
F 0 "D?" H 8095 2946 50  0000 L CNN
F 1 "36V" H 8095 2855 50  0000 L CNN
F 2 "" H 7800 2950 60  0000 C CNN
F 3 "" H 7800 2950 60  0000 C CNN
F 4 "PESD36VS2UT,215" H 7900 2900 50  0001 C CNN "Part Number"
F 5 "Nexperia" H 7900 2900 50  0001 C CNN "Manufacturer"
	1    7900 2900
	1    0    0    -1  
$EndComp
$Comp
L com:COM #PWR?
U 1 1 5AF91305
P 7900 3050
F 0 "#PWR?" V 8175 3050 60  0001 C CNN
F 1 "COM" H 8060 2935 30  0001 C CNN
F 2 "" H 8055 3060 60  0000 C CNN
F 3 "" H 8055 3060 60  0000 C CNN
	1    7900 3050
	-1   0    0    -1  
$EndComp
Wire Wire Line
	8000 2750 8000 2600
Connection ~ 8000 2600
Wire Wire Line
	8000 2600 7250 2600
Wire Wire Line
	7800 2750 7800 2500
Connection ~ 7800 2500
Wire Wire Line
	7800 2500 7250 2500
$Comp
L zener:ZENER-DUAL-CA-SOT23 D?
U 1 1 5AF96A52
P 7500 2900
F 0 "D?" H 7305 2946 50  0000 R CNN
F 1 "36V" H 7305 2855 50  0000 R CNN
F 2 "" H 7400 2950 60  0000 C CNN
F 3 "" H 7400 2950 60  0000 C CNN
F 4 "PESD36VS2UT,215" H 7500 2900 50  0001 C CNN "Part Number"
F 5 "Nexperia" H 7500 2900 50  0001 C CNN "Manufacturer"
	1    7500 2900
	1    0    0    -1  
$EndComp
$Comp
L com:COM #PWR?
U 1 1 5AF96A59
P 7500 3050
F 0 "#PWR?" V 7775 3050 60  0001 C CNN
F 1 "COM" H 7660 2935 30  0001 C CNN
F 2 "" H 7655 3060 60  0000 C CNN
F 3 "" H 7655 3060 60  0000 C CNN
	1    7500 3050
	-1   0    0    -1  
$EndComp
Wire Wire Line
	7600 2750 7600 2400
Connection ~ 7600 2400
Wire Wire Line
	7600 2400 7250 2400
Wire Wire Line
	7400 2750 7400 2300
Connection ~ 7400 2300
Wire Wire Line
	7400 2300 7250 2300
$Comp
L zener:ZENER D?
U 1 1 5AF9F808
P 8000 4150
F 0 "D?" V 8171 4245 50  0000 L CNN
F 1 "3.3V" V 8080 4245 50  0000 L CNN
F 2 "" V 8150 4150 60  0000 C CNN
F 3 "" V 8150 4150 60  0000 C CNN
F 4 "ESD9X3.3ST5G" H 8000 4150 50  0001 C CNN "Part Number"
F 5 "ON" H 8000 4150 50  0001 C CNN "Manufacturer"
	1    8000 4150
	0    -1   -1   0   
$EndComp
$Comp
L com:COM #PWR?
U 1 1 5AF9F80F
P 8000 4150
F 0 "#PWR?" V 8275 4150 60  0001 C CNN
F 1 "COM" H 8160 4035 30  0001 C CNN
F 2 "" H 8155 4160 60  0000 C CNN
F 3 "" H 8155 4160 60  0000 C CNN
	1    8000 4150
	-1   0    0    -1  
$EndComp
Wire Wire Line
	7750 3900 8000 3900
Connection ~ 8000 3900
Wire Wire Line
	8000 3900 8050 3900
Wire Wire Line
	8050 3800 7900 3800
Wire Wire Line
	7900 3800 7900 3850
$Comp
L conn-3:CONN-3 J?
U 1 1 5AFB0402
P 8050 4550
F 0 "J?" H 8350 4500 50  0000 C CNN
F 1 "MAX" H 8350 4600 50  0000 C CNN
F 2 "" H 8150 4400 60  0000 C CNN
F 3 "" H 8150 4400 60  0000 C CNN
	1    8050 4550
	1    0    0    1   
$EndComp
Text HLabel 7750 4650 0    50   Output ~ 0
STOP_MAX
$Comp
L com:COM #PWR?
U 1 1 5AFB040A
P 7900 4600
F 0 "#PWR?" V 8175 4600 60  0001 C CNN
F 1 "COM" H 8060 4485 30  0001 C CNN
F 2 "" H 8055 4610 60  0000 C CNN
F 3 "" H 8055 4610 60  0000 C CNN
	1    7900 4600
	1    0    0    -1  
$EndComp
$Comp
L +3v3:+3V3 #PWR?
U 1 1 5AFB0410
P 7900 4450
F 0 "#PWR?" H 7910 4450 20  0001 C CNN
F 1 "+3V3" H 7900 4510 40  0000 C CNN
F 2 "" H 7900 4450 60  0000 C CNN
F 3 "" H 7900 4450 60  0000 C CNN
	1    7900 4450
	1    0    0    -1  
$EndComp
Wire Wire Line
	7900 4450 8050 4450
$Comp
L zener:ZENER D?
U 1 1 5AFB0419
P 8000 4900
F 0 "D?" V 8171 4995 50  0000 L CNN
F 1 "3.3V" V 8080 4995 50  0000 L CNN
F 2 "" V 8150 4900 60  0000 C CNN
F 3 "" V 8150 4900 60  0000 C CNN
F 4 "ESD9X3.3ST5G" H 8000 4900 50  0001 C CNN "Part Number"
F 5 "ON" H 8000 4900 50  0001 C CNN "Manufacturer"
	1    8000 4900
	0    -1   -1   0   
$EndComp
$Comp
L com:COM #PWR?
U 1 1 5AFB0420
P 8000 4900
F 0 "#PWR?" V 8275 4900 60  0001 C CNN
F 1 "COM" H 8160 4785 30  0001 C CNN
F 2 "" H 8155 4910 60  0000 C CNN
F 3 "" H 8155 4910 60  0000 C CNN
	1    8000 4900
	-1   0    0    -1  
$EndComp
Wire Wire Line
	7750 4650 8000 4650
Connection ~ 8000 4650
Wire Wire Line
	8000 4650 8050 4650
Wire Wire Line
	8050 4550 7900 4550
Wire Wire Line
	7900 4550 7900 4600
$EndSCHEMATC
